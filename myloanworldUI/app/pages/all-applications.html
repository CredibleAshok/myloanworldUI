<div ng-controller="allApplicationsController as vm">
    <div class="row">
        <div class="col-xs-12 text-center">
            <span class="welcomeText">{{vm.title}}</span><br />
        </div>
    </div>
    <div class="row" ng-if="vm.loggedInUser.FeatureName=='Admin'">
        <form name="applicationListForm">
            <div class="col-xs-12">
                <div class="col-md-12">
                    <div class="col-md-6" style="padding-bottom:20px;">
                        <div class="form-group">
                            <input type="text"
                                   name="customerName"
                                   class="form-control"
                                   placeholder="Name"
                                   ng-model="vm.searchFilter.CustomerName" />
                        </div>
                    </div>
                    <div class="col-md-6" style="padding-bottom:20px;">
                        <div class="form-group">
                            <input name="applicationId"
                                   ng-pattern="/^[0-9]$/"
                                   type="text"
                                   class="form-control"
                                   placeholder="Application Id"
                                   ng-model="vm.searchFilter.ApplicationId" />
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-6" style="padding-bottom:20px;">
                        <div class="form-group">
                            <input type="text"
                                   name="fromDate"
                                   class="form-control"
                                   placeholder="From Date"
                                   ng-model="vm.searchFilter.fromDate" />
                        </div>
                    </div>
                    <div class="col-md-6" style="padding-bottom:20px;">
                        <div class="form-group">
                            <input name="todate"
                                   type="text"
                                   class="form-control"
                                   placeholder="To Date"
                                   ng-model="vm.searchFilter.todate" />
                        </div>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="col-sm-6"></div>
                    <div class="col-sm-6" style="text-align:right;">
                        <button class="btn btn-default" ng-click="vm.getApplicationList()">Search Applications</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <br />
    <div class="row">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-condensed table-hover">
                <thead>
                    <tr>
                        <th class="col-sm-1">Application Id</th>
                        <th class="col-sm-3">Customer Name</th>
                        <th class="col-sm-1">Application Status</th>
                        <th class="col-sm-2">Application Type</th>
                        <th class="col-sm-3">Application Date</th>
                        <th class="col-sm-2"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="application in vm.applicationList">
                        <td class="col-sm-1"><a ui-sref="applicationHistory({applicationId: application.ApplicationId})"><b>{{application.ApplicationId}}</b></a></td>
                        <td class="col-sm-3">{{application.CustomerName}}</td>
                        <td class="col-sm-1">{{application.ApplicationStatus}}</td>
                        <td class="col-sm-2">{{application.ApplicationType}}</td>
                        <td class="col-sm-3">{{application.CreationDate | date:'dd/MM/yyyy'}}</td>
                        <td class="col-sm-2"><button class="btn btn-default" ng-if="vm.loggedInUser.FeatureName=='Admin'" ng-click="vm.openChangeApplicationStatusModal(application)"><b>Change Application Status</b></button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
